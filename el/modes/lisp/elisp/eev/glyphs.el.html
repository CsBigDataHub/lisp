<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.16 in css mode. -->
<html>
  <head>
    <title>glyphs.el (htmlized)</title>
    <style type="text/css">
    <!--
      body {
        color: #ffe4c4;
        background-color: #000000;
      }
      .builtin {
        /* font-lock-builtin-face */
        color: #b0c4de;
      }
      .comment {
        /* font-lock-comment-face */
        color: #ff7f24;
      }
      .comment-delimiter {
      }
      .constant {
        /* font-lock-constant-face */
        color: #7fffd4;
      }
      .doc {
      }
      .eev-glyph-face-bang {
        /* eev-glyph-face-bang */
        color: #0000ff;
        background-color: #ff0000;
      }
      .eev-glyph-face-blue {
        /* eev-glyph-face-blue */
        color: #0000ff;
      }
      .eev-glyph-face-bluebg {
        /* eev-glyph-face-bluebg */
        background-color: #0000ff;
      }
      .eev-glyph-face-green {
        /* eev-glyph-face-green */
        color: #00ff00;
      }
      .eev-glyph-face-red {
        /* eev-glyph-face-red */
        color: #ff0000;
      }
      .eev-glyph-face-yellow-on-red {
        /* eev-glyph-face-yellow-on-red */
        color: #ffff00;
        background-color: #ff0000;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #87cefa;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #00ffff;
      }
      .string {
        /* font-lock-string-face */
        color: #ffa07a;
      }
      .type {
        /* font-lock-type-face */
        color: #98fb98;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #eedd82;
      }
      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="comment-delimiter">;;; </span><span class="comment">glyphs.el - change how some special characters are displayed
</span>
<span class="comment-delimiter">;; </span><span class="comment">Copyright (C) 1999,2000,2001,2002,2003,2004 Free Software
</span><span class="comment-delimiter">;; </span><span class="comment">Foundation, Inc.
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">This file is part of GNU eev.
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">GNU eev is free software; you can redistribute it and/or modify
</span><span class="comment-delimiter">;; </span><span class="comment">it under the terms of the GNU General Public License as published by
</span><span class="comment-delimiter">;; </span><span class="comment">the Free Software Foundation; either version 2, or (at your option)
</span><span class="comment-delimiter">;; </span><span class="comment">any later version.
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">GNU eev is distributed in the hope that it will be useful,
</span><span class="comment-delimiter">;; </span><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of
</span><span class="comment-delimiter">;; </span><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</span><span class="comment-delimiter">;; </span><span class="comment">GNU General Public License for more details.
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">You should have received a copy of the GNU General Public License
</span><span class="comment-delimiter">;; </span><span class="comment">along with GNU Emacs; see the file COPYING.  If not, write to the
</span><span class="comment-delimiter">;; </span><span class="comment">Free Software Foundation, Inc., 59 Temple Place - Suite 330,
</span><span class="comment-delimiter">;; </span><span class="comment">Boston, MA 02111-1307, USA.
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">Author:     Eduardo Ochs &lt;<a href="mailto:edrx&#64;mat.puc-rio.br">edrx&#64;mat.puc-rio.br</a>&gt;
</span><span class="comment-delimiter">;; </span><span class="comment">Maintainer: Eduardo Ochs &lt;<a href="mailto:edrx&#64;mat.puc-rio.br">edrx&#64;mat.puc-rio.br</a>&gt;
</span><span class="comment-delimiter">;; </span><span class="comment">Version:    2005mar01
</span><span class="comment-delimiter">;; </span><span class="comment">Keywords:   display, glyphs
</span><span class="comment-delimiter">;; </span><span class="comment">Latest version: &lt;<a href="http://angg.twu.net/eev-current/glyphs.el">http://angg.twu.net/eev-current/glyphs.el</a>&gt;
</span><span class="comment-delimiter">;;       </span><span class="comment">htmlized: &lt;<a href="http://angg.twu.net/eev-current/glyphs.el.html">http://angg.twu.net/eev-current/glyphs.el.html</a>&gt;
</span>
<span class="comment-delimiter">;;; </span><span class="comment">Commentary:
</span>
<span class="comment-delimiter">;; </span><span class="comment">This library sets some "glyphs" in Emacs's default display table.
</span><span class="comment-delimiter">;; </span><span class="comment">Glyphs are usually considered ugly hacks, but I find them convenient -
</span><span class="comment-delimiter">;; </span><span class="comment">they are easy to use, to understand (when you think that a file is
</span><span class="comment-delimiter">;; </span><span class="comment">a sequence of bytes and each byte is a character) and to explain to
</span><span class="comment-delimiter">;; </span><span class="comment">people. Unfortunately they're not very compatible with Emacs's
</span><span class="comment-delimiter">;; </span><span class="comment">support for international alphabets and with "multibyte" encodings.
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">The following glyphs are set:
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;;   </span><span class="comment">appearance  position         how to type it
</span><span class="comment-delimiter">;;   </span><span class="eev-glyph-face-bluebg"> </span><span class="comment">             8 (backspace)  C-q C-h
</span><span class="comment-delimiter">;;   </span><span class="eev-glyph-face-yellow-on-red">L</span><span class="comment">            12 (formfeed)   C-q C-l
</span><span class="comment-delimiter">;;   </span><span class="eev-glyph-face-blue">M</span><span class="comment">         ;  13 (CR)         C-q C-m
</span><span class="comment-delimiter">;;   </span><span class="eev-glyph-face-red">*</span><span class="comment">            15 (^O)         C-q C-o
</span><span class="comment-delimiter">;;   </span><span class="eev-glyph-face-bang">!</span><span class="comment">           155 (CSI)
</span><span class="comment-delimiter">;;   </span><span class="eev-glyph-face-green">&#171;</span><span class="comment"> and </span><span class="eev-glyph-face-green">&#187;</span><span class="comment">     171 and 187      M-, &lt; &lt; and M-, &gt; &gt;
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">M-, is defined in &lt;<a href="http://angg.twu.net/eev-current/compose.el">http://angg.twu.net/eev-current/compose.el</a>&gt;
</span><span class="comment-delimiter">;;                   </span><span class="comment">&lt;<a href="http://angg.twu.net/eev-current/compose.el.html">http://angg.twu.net/eev-current/compose.el.html</a>&gt;.
</span><span class="comment-delimiter">;; </span><span class="comment">A raw CSI has confusing effects when sent to a Linux VT:
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "4 console_codes" "CSI (0x9B) is equivalent to ESC [.")
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Conditionals")</a></span><span class="comment">
</span><span class="comment-delimiter">;; <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Window Systems")</a></span><span class="comment">
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">Variables/flags (note: this package used to be compatible with emacs20)
</span><span class="comment-delimiter">;; </span><span class="comment">Emacs20 can't display face glyphs in console mode
</span><span class="comment-delimiter">;; </span><span class="comment">String glyphs only work in console mode
</span><span class="comment-delimiter">;; </span><span class="comment">The usual X fonts only have chars in the ranges 32..126 and 160..254
</span><span class="comment-delimiter">;; </span><span class="comment">In Linux VTs the chars in the range 128..159 (except for 155) are printable
</span><span class="comment-delimiter">;; </span><span class="comment">In Linux VTs the chars 0..31, 127, 155, 255 can be printed using utf8
</span><span class="comment-delimiter">;; </span><span class="comment">Some Emacs versions don't like string glyphs in the positions 128..159
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">(find-k26file "drivers/char/vt.c")
</span>
(<span class="keyword">defvar</span> <a name="glyphs-allow-string-glyphs"><span class="variable-name">glyphs-allow-string-glyphs</span></a> (not window-system))
(<span class="keyword">defvar</span> <a name="glyphs-allow-face-glyphs"><span class="variable-name">glyphs-allow-face-glyphs</span></a>
  (or window-system
      (&gt;= emacs-major-version 21)))
(<span class="keyword">defvar</span> <a name="glyphs-allow-string-glyphs-in-dangerous-positions"><span class="variable-name">glyphs-allow-string-glyphs-in-dangerous-positions</span></a>
  (<span class="keyword">cond</span> ((= emacs-major-version 20)
         (&gt;= emacs-minor-version 4))
        ((= emacs-major-version 21)
         (&gt;= emacs-minor-version 3))))
(<span class="keyword">defvar</span> <a name="glyphs-allow-vt-chars"><span class="variable-name">glyphs-allow-vt-chars</span></a> (not window-system))
(<span class="keyword">defvar</span> <a name="glyphs-allow-utf8-chars"><span class="variable-name">glyphs-allow-utf8-chars</span></a> (equal (getenv <span class="string">"TERM"</span>) <span class="string">"linux"</span>))

(<span class="keyword">defvar</span> <a name="glyphs-prefer-string-glyphs"><span class="variable-name">glyphs-prefer-string-glyphs</span></a> nil)

(<span class="keyword">defvar</span> <a name="glyphs-face-to-colorstr-alist"><span class="variable-name">glyphs-face-to-colorstr-alist</span></a> ())

<span class="comment-delimiter">;; </span><span class="comment">String glyphs
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "console_codes" "ECMA-48 Set Graphics Rendition" "foreground")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "console_codes" "CSI (0x9B) is equivalent to ESC [")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "4 console_codes" "ESC % @")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "4 console_codes" "ESC % G")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "4 console_codes" "straight to character ROM")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "7 charsets" "1110xxxx")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "7 utf-8" "0x00000800 - 0x0000FFFF:")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-man "8 consolechars" "straight-to-font zone")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-udfile "console-tools/lct.txt.gz" "from U+F000 to U+F1FF")
</span>
(<span class="keyword">defun</span> <a name="glyphs-make-string"><span class="function-name">glyphs-make-string</span></a> (colorstr char encode-utf8)
  (<span class="keyword">let</span> ((str (<span class="keyword">if</span> encode-utf8
                 (format <span class="string">"\e%%G\xef%c%c\e%%@"</span>
                         (+ 128 (logand (lsh char -6) 7))
                         (+ 128 (logand char 63)))
               (format <span class="string">"%c"</span> char))))
    (<span class="keyword">if</span> colorstr
        (setq str (format <span class="string">"\e[%sm%s\e[m"</span> colorstr str)))
    str))
    
(<span class="keyword">defun</span> <a name="glyphs-set-string-glyph"><span class="function-name">glyphs-set-string-glyph</span></a> (position colorstr char encode-utf8)
  (<span class="keyword">let</span> ((str (glyphs-make-string colorstr char encode-utf8)))
    (aset standard-display-table
          position (vector (create-glyph str)))
    str))

(<span class="keyword">defun</span> <a name="glyphs-char-type"><span class="function-name">glyphs-char-type</span></a> (char)
  (<span class="keyword">cond</span> ((or (and (&gt;= char 32)  (&lt;= char 126))
             (and (&gt;= char 160) (&lt;= char 255)))
         'normal)
        ((and (&gt;= char 128) (&lt;= char 159) (not (= char 155)))
         'vt)
        (t 'utf8)))

(<span class="keyword">defun</span> <a name="glyphs-set-string-glyph-safe"><span class="function-name">glyphs-set-string-glyph-safe</span></a> (position colorstr char)
  (<span class="keyword">if</span> glyphs-allow-string-glyphs
      (<span class="keyword">let</span> ((char-type (glyphs-char-type char)))
        (<span class="keyword">if</span> (and (<span class="keyword">cond</span> ((eq char-type 'normal) t)
                       ((eq char-type 'vt) glyphs-allow-vt-chars)
                       ((eq char-type 'utf8) glyphs-allow-utf8-chars))
                 (<span class="keyword">cond</span> ((and (&gt;= position 128) (&lt;= position 159))
                        glyphs-allow-string-glyphs-in-dangerous-positions)
                       (t t)))
            (glyphs-set-string-glyph position colorstr char
                                     (eq char-type 'utf8))))))

<span class="comment-delimiter">;; </span><span class="comment">Functions for face glyphs
</span><span class="comment-delimiter">;;  <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Glyphs")</a></span><span class="comment">
</span>
(<span class="keyword">defun</span> <a name="glyphs-set-face-glyph"><span class="function-name">glyphs-set-face-glyph</span></a> (position face char)
  (aset standard-display-table
        position (vector (<span class="keyword">if</span> face (logior char (ash (face-id face) 19))
                           char))))

(<span class="keyword">defun</span> <a name="glyphs-set-face-glyph-safe"><span class="function-name">glyphs-set-face-glyph-safe</span></a> (position face char)
  (<span class="keyword">if</span> (and glyphs-allow-face-glyphs
           (eq (glyphs-char-type char) 'normal))
     (glyphs-set-face-glyph position face char)))

(<span class="keyword">defun</span> <a name="glyphs-define-face"><span class="function-name">glyphs-define-face</span></a> (face <span class="type">&amp;optional</span> bg fg bold colorstr)
  (make-face face)
  (<span class="keyword">if</span> fg (set-face-foreground face fg))
  (<span class="keyword">if</span> bg (set-face-background face bg))
  (<span class="keyword">if</span> bold (set-face-bold-p face bold))
  (setq glyphs-face-to-colorstr-alist
        (cons (cons face colorstr) glyphs-face-to-colorstr-alist)))

(<span class="keyword">defun</span> <a name="glyphs-colorstr-for"><span class="function-name">glyphs-colorstr-for</span></a> (face)
  (cdr (assoc face glyphs-face-to-colorstr-alist)))




<span class="comment-delimiter">;; </span><span class="comment">Functions for examining glyphs
</span><span class="comment-delimiter">;; </span><span class="comment">Note that they just return a value that is displayed in the minibuffer.
</span>
(<span class="keyword">defun</span> <a name="ee-faceid-to-face"><span class="function-name">ee-faceid-to-face</span></a> (faceid facelist)
  (<span class="keyword">if</span> facelist
      (<span class="keyword">if</span> (= faceid (face-id (car facelist)))
          (car facelist)
        (ee-faceid-to-face faceid (cdr facelist)))))

(<span class="keyword">defun</span> <a name="ee-faceandchar-to-list"><span class="function-name">ee-faceandchar-to-list</span></a> (n)
  (<span class="keyword">let*</span> ((faceid (ash n -19))
         (face (ee-faceid-to-face faceid (face-list)))
         (char (logand n 524287))
         (charstr (format <span class="string">"%c"</span> char)))
    `(,n -&gt; (,faceid -&gt; ,face) (,char = ,charstr))))

(<span class="keyword">defun</span> <a name="ee-n-to-stringglyph"><span class="function-name">ee-n-to-stringglyph</span></a> (n)
  (<span class="keyword">if</span> (and glyph-table (&lt; n (length glyph-table)))
      (<span class="keyword">let</span> ((s (aref glyph-table n)))
        `(,n -&gt; ,s))))

(<span class="keyword">defun</span> <a name="find-eglyph"><span class="function-name">find-eglyph</span></a> (pos)
  (<span class="keyword">let*</span> ((posstr (format <span class="string">"%c"</span> pos))
         (v (aref standard-display-table pos))
         (descr
          (<span class="keyword">if</span> (arrayp v)
              (<span class="keyword">let</span> ((v0 (aref v 0)))
                (or (ee-n-to-stringglyph v0)
                    (ee-faceandchar-to-list v0)))
            '(no glyph))))
    `((,pos = ,posstr) -&gt; ,v ,descr)))

<span class="comment-delimiter">;; </span><span class="comment">(find-eglyph ?</span><span class="eev-glyph-face-red">*</span><span class="comment">)
</span><span class="comment-delimiter">;; </span><span class="comment">(find-eglyph ?</span><span class="eev-glyph-face-green">&#171;</span><span class="comment">)
</span><span class="comment-delimiter">;; </span><span class="comment">(find-eglyph ?%)
</span>
<span class="comment-delimiter">;; </span><span class="comment">By the way:
</span><span class="comment-delimiter">;; </span><span class="comment">. What happens when glyphs are vectors of length != 1?
</span><span class="comment-delimiter">;; </span><span class="comment">. My glyph-table only has strings - can it have numbers or vectors?
</span><span class="comment-delimiter">;; </span><span class="comment">. The `</span><span class="comment"><span class="constant">default</span></span><span class="comment">' face has face-id=0 - doesn't that interfere with
</span><span class="comment-delimiter">;;   </span><span class="comment">the encoding of string glyphs?
</span>
<span class="comment-delimiter">;; <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Association Lists")</a></span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">(find-efile "")
</span>
<span class="comment-delimiter">;; <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Display Tables")</a></span><span class="comment">
</span><span class="comment-delimiter">;;  <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Glyphs")</a></span><span class="comment">
</span><span class="comment-delimiter">;;  <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Active Display Table")</a></span><span class="comment">
</span><span class="comment-delimiter">;; <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Usual Display")</a></span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">(find-efile "disp-table.el")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-evardescr 'glyph-table)
</span><span class="comment-delimiter">;; </span><span class="comment">(find-evardescr 'buffer-display-table)
</span>
<span class="comment-delimiter">;; </span><span class="comment">?\^O ?*  "31"
</span><span class="comment-delimiter">;; </span><span class="comment">?</span><span class="eev-glyph-face-green">&#171;</span><span class="comment">   ?</span><span class="eev-glyph-face-green">&#171;</span><span class="comment">  "32"     
</span><span class="comment-delimiter">;; </span><span class="comment">?</span><span class="eev-glyph-face-green">&#187;</span><span class="comment">   ?</span><span class="eev-glyph-face-green">&#187;</span><span class="comment">  "32"     
</span>
<span class="comment-delimiter">;; </span><span class="comment">155  ?! "1;31;41"    ; 155=128+ESC=CSI, dont display it directly!
</span><span class="comment-delimiter">;; </span><span class="comment">?\^H 32 "44"     
</span><span class="comment-delimiter">;; </span><span class="comment">12   ?L "1;33;41"      ; formfeed
</span><span class="comment-delimiter">;; </span><span class="comment">13   ?M "34"           ; CR (^M)
</span>
<span class="comment-delimiter">;; </span><span class="comment">(find-fline "~/LATEX/dout/doutface.el")
</span><span class="comment-delimiter">;; </span><span class="comment">(find-efile "term/tty-colors.el")
</span>

<span class="comment-delimiter">;; </span><span class="comment">High-level functions
</span>
(<span class="keyword">defun</span> <a name="glyphs-set-safe-1"><span class="function-name">glyphs-set-safe-1</span></a> (face pos char)
  (<span class="keyword">if</span> glyphs-prefer-string-glyphs
      (or (glyphs-set-string-glyph-safe pos (glyphs-colorstr-for face) char)
          (glyphs-set-face-glyph-safe position face char))
    (or (glyphs-set-face-glyph-safe position face char)
        (glyphs-set-string-glyph-safe pos (glyphs-colorstr-for face) char))))

(<span class="keyword">defun</span> <a name="glyphs-set"><span class="function-name">glyphs-set</span></a> (face position char <span class="type">&amp;rest</span> rest)
  (<span class="keyword">let</span> ((rslt (glyphs-set-safe-1 face position char)))
    (<span class="keyword">if</span> rest (apply 'glyphs-set face rest)
      rslt)))

(<span class="keyword">defun</span> <a name="glyphs-set-basic"><span class="function-name">glyphs-set-basic</span></a> ()
  (standard-display-8bit 160 254)
  (glyphs-define-face 'glyphs-face-red           nil    <span class="string">"red"</span>    nil <span class="string">"31"</span>)
<span class="comment-delimiter">;;</span><span class="comment">(glyphs-define-face 'glyphs-face-green         nil    "green"  nil "32")
</span>  (glyphs-define-face 'glyphs-face-blue          nil    <span class="string">"blue"</span>   nil <span class="string">"34"</span>)
  (glyphs-define-face 'glyphs-face-bluebg        <span class="string">"blue"</span> nil      nil <span class="string">"44"</span>)
  (glyphs-define-face 'glyphs-face-yellow-on-red <span class="string">"red"</span>  <span class="string">"yellow"</span> t   <span class="string">"1;33;41"</span>)
  (glyphs-define-face 'glyphs-face-bang          <span class="string">"red"</span>  <span class="string">"blue"</span>   nil <span class="string">"1;31;41"</span>)
  (glyphs-set 'glyphs-face-bluebg  8 ?\ )
  (glyphs-set 'glyphs-face-blue   13 ?M)
  (glyphs-set 'glyphs-face-red    15 ?*)
  (glyphs-set 'glyphs-face-bang  155 ?!)
  (glyphs-set 'glyphs-face-yellow-on-red ?\^L ?L)
  (glyphs-set 'glyphs-face-green ?<span class="eev-glyph-face-green">&#171;</span> ?<span class="eev-glyph-face-green">&#171;</span> ?<span class="eev-glyph-face-green">&#187;</span> ?<span class="eev-glyph-face-green">&#187;</span>)
  )


<span class="comment-delimiter">;; </span><span class="comment">A first attempt to modernize the code above (2004oct21)...
</span><span class="comment-delimiter">;; <a href="http://www.gnu.org/software/emacs/elisp-manual/html_node/elisp_toc.html">(find-elnode "Defining Faces")</a></span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">(find-efunctiondescr 'defface)
</span><span class="comment-delimiter">;; </span><span class="comment">(find-efunction 'defface)
</span><span class="comment-delimiter">;; </span><span class="comment">(find-efunction 'custom-declare-face)
</span><span class="comment-delimiter">;; </span><span class="comment">(find-efile "generic-x.el" "(background light)")
</span><span class="comment-delimiter">;;</span><span class="comment">
</span>(<span class="keyword">defface</span> <a name="glyphs-face-green"><span class="variable-name">glyphs-face-green</span></a>
  '((((class color) (background dark))  (<span class="builtin">:foreground</span> <span class="string">"green"</span>))
    (((class color) (background light)) (<span class="builtin">:foreground</span> <span class="string">"forest green"</span>))
    (t (<span class="builtin">:bold</span> t)))
  <span class="doc">"Face for the glyphs `</span><span class="doc"><span class="constant">&lt;&lt;</span></span><span class="doc">' and `</span><span class="doc"><span class="constant">&gt;&gt;</span></span><span class="doc">'."</span>)
<span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">(eev "emacs -bg white -fg black  ~/eev-current/glyphs.el &amp;")
</span><span class="comment-delimiter">;; </span><span class="comment">(eev "emacs -bg black -fg bisque ~/eev-current/glyphs.el &amp;")
</span>
<span class="comment-delimiter">;; </span><span class="comment">This is how I used to test the console codes for string glyphs:
</span><span class="comment-delimiter">;; </span><span class="comment">(ee-write-string (glyphs-make-string "1;31;41" ?! nil) "/dev/tty3")
</span>
<span class="comment-delimiter">;; </span><span class="eev-glyph-face-bluebg"> </span><span class="eev-glyph-face-yellow-on-red">L</span><span class="eev-glyph-face-blue">M</span><span class="eev-glyph-face-red">*</span><span class="eev-glyph-face-bang">!</span><span class="eev-glyph-face-green">&#171;&#187;</span><span class="comment">
</span>

<span class="comment-delimiter">;; </span><span class="comment">Local Variables:
</span><span class="comment-delimiter">;; </span><span class="comment">coding:               raw-text-unix
</span><span class="comment-delimiter">;; </span><span class="comment">ee-anchor-format:     "</span><span class="eev-glyph-face-green">&#171;</span><span class="comment">%s</span><span class="eev-glyph-face-green">&#187;</span><span class="comment">"
</span><span class="comment-delimiter">;; </span><span class="comment">End:
</span></pre>
  </body>
</html>
